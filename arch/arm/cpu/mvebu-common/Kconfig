
source "arch/arm/cpu/armv8/armada8k/Kconfig"
source "arch/arm/cpu/armv7/armada38x/Kconfig"
source "arch/arm/cpu/armv8/armada3700/Kconfig"

config MVEBU
	bool "Support MVEBU devices"
	depends on $SYS_VENDOR="mvebu"
	default y

config MVEBU_SECURE_BOOT
	bool "Trusted Boot Image format"
	depends on MVEBU
	default n
	help
	  Instructs the u-boot to create a trusted
	  boot image for MVEBU device. The trusted
	  boot image will boot normally on devices
	  that have secure mode option turned OFF
	  in their eFUSE. Once the secure boot mode
	  is selected by eFuse, the trusted boot
	  image will be verified according to secure
	  boot flow algorithm described in details
	  in appropriate device specification.

config MVEBU_SPL_DIFFRENT_BASE_ADDR
	bool "Use SPL different registers base address"
	depends on MVEBU
	default n
	help
	  Choose this option to enable setting of a different
	  registers base address at the SPL stage.

menu "IO support"

config MVEBU_MPP_BUS
	bool "MPP bus support"
	depends on (DEVEL_BOARD && MVEBU_PINCTL)
	default n
	help
	  Choose this option to add support
	  for the mpp-bus driver. This driver
	  is used for enabling or disabling mpp
	  buses at runtime

config MVEBU_UART_ARLP
	bool "UART support for ArmadaLP"
	default n
	help
	  Choose this option to add support
	  for UART driver on ArmadaLP, which
	  is not using COM1 NS16550 driver.
	  And base address is configured in FDT file.

config MVEBU_SPL_DDR_OVER_PCI_SUPPORT
	bool "DDR over PCIE support in SPL"
	depends on SPL
	default n
	select MVEBU_PCI
	help
	  To add this option need to edit the defconfig and add the following line:
	  +S:CONFIG_MVEBU_SPL_DDR_OVER_PCI_SUPPORT=y
	  Choose this option to add support
	  for DDR over PCIE support

config MVEBU_SPL_DDR_OVER_PCI_SWITCH
	bool "DDR over PCIE switch support in SPL"
	depends on MVEBU_SPL_DDR_OVER_PCI_SUPPORT
	default n
	help
	  Support DDR over PCIe switch, this should be selected in case the DDR
	  PCIe addon card (PCAC) is located over a pcie switch (The first port of the
	  switch).
	  To add this option need to edit the defconfig and add the following line:
	  +S:CONFIG_MVEBU_SPL_DDR_OVER_PCI_SWITCH=y

config DDR_OVER_PCI_SIZE
	int "size of DDR over PCI"
	depends on MVEBU_SPL_DDR_OVER_PCI_SUPPORT
	default  536870912
	help
	  Defines the size of DRAM over
	  on the PCI endpoint. Relvant
	  only when DDR over PCI is
	  used.

config XENON_MMC
	bool "XENON MMC support"
	default n
	select CMD_MMC
	help
	  Choose this option to add support
	  for Marvell XENON MMC driver, using Marvell xenon_mmc.c
	  driver.
	  base address is configured under XENON_MMC_BASE

endmenu

choice
	prompt "Flash for image"
	default MVEBU_SPI_BOOT

config MVEBU_NAND_BOOT
	bool "NAND flash boot"
	depends on (MVEBU_NAND || NAND_PXA3XX)
	help
	  Enable boot from NAND

config MVEBU_SPI_BOOT
	bool "SPI flash boot"
	depends on MVEBU_SPI

config MVEBU_NOR_BOOT
	bool "NOR flash boot"
	depends on MVEBU_NOR
	help
	  Enable boot from NOR boot partition

config MVEBU_MMC_BOOT
	bool "eMMC flash boot"
	depends on (MVEBU_MMC || XENON_MMC)
	help
	  Enable boot from eMMC boot partition

endchoice

menu "NAND Boot Parameters"
depends on MVEBU_NAND_BOOT

config MVEBU_NAND_BLOCK_SIZE
	int "NAND Boot Page Size (KB)"
	default 256
	help
	  Set the nand boot device block size (in KB).
	  This parameter is used by Bootrom in order to
	  determine the location of bad blocks
	  markers.

config MVEBU_NAND_CELL_TYPE
	string "NAND Boot Cell Type (SLC/MLC)"
	default SLC
	help
	  Set the boot nand cell type (0 for SLC,
	  1 for MLC).
	  This parameter is used by bootrom in order
	  to determine the bad block marker location
	  within the block.
endmenu

config ENV_IS_IN_BOOTDEV
	bool "Boot-time Environment Selection"
	depends on (MVEBU_SPI || MVEBU_NAND)
	help
	  Choose this option to add support
	  for boot-time environment selection.
	  the boot-time environment is decided
	  according to the boot source value
	  in sample at reset register.

config MVEBU_TOOLS_SUPPORT
	bool "MVEBU tools functions for U-Boot"
	default y
	help
	  Choose this option to add support
	  for different tools function for
	  U-Boot/SPL code

config MVEBU_SYS_INFO
	bool "System info transmitted to u-boot"
	default y
	help
	  Choose this option to add support
	  for system information in u-boot.
	  If you want to transfer information
	  from spl to u-boot, you need to choose
	  this option.

config MVEBU_ROM_SILENCE_FLAG_SUPPORT
	bool "BootROM silence flag support"
	default n
	help
	  Choose this option to add support for
	  silence parameter passed to SPL by
	  BootROM for suppressing serial all
	  port output during SPL run.

if MVEBU_TOOLS_SUPPORT
source "arch/arm/cpu/mvebu-common/tools/Kconfig"
endif
